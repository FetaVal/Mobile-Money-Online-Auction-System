{% extends "base.html" %}

{% block title %}Application Status - AuctionHub{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-lg">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0"><i class="fas fa-clipboard-check"></i> Seller Application Status</h3>
                </div>
                <div class="card-body">
                    {% if profile.seller_status == 'pending' %}
                        <div class="text-center py-5">
                            <div class="spinner-border text-warning mb-3" role="status" style="width: 4rem; height: 4rem;">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <h3 class="text-warning"><i class="fas fa-clock"></i> Application Under Review</h3>
                            <p class="lead">Your seller application is being reviewed by our team.</p>
                            <p class="text-muted">Submitted on: {{ profile.seller_application_date|date:"F d, Y at h:i A" }}</p>
                            
                            <div class="alert alert-info mt-4 text-left">
                                <h5><i class="fas fa-info-circle"></i> What's Happening Now?</h5>
                                <ul>
                                    <li>Our verification team is reviewing your application</li>
                                    <li>We're verifying your identity and business information</li>
                                    <li>This typically takes 24-48 hours</li>
                                    <li>You'll receive an email notification once approved</li>
                                </ul>
                            </div>

                            <div class="mt-4">
                                <h5>Your Application Details</h5>
                                <table class="table table-bordered mt-3">
                                    <tr>
                                        <th width="40%">Business Name</th>
                                        <td>{{ profile.business_name }}</td>
                                    </tr>
                                    <tr>
                                        <th>Business Type</th>
                                        <td>{{ profile.get_business_type_display }}</td>
                                    </tr>
                                    <tr>
                                        <th>Years of Experience</th>
                                        <td>{{ profile.years_of_experience }} years</td>
                                    </tr>
                                    <tr>
                                        <th>Bank</th>
                                        <td>{{ profile.get_bank_name_display }}</td>
                                    </tr>
                                    <tr>
                                        <th>Product Categories</th>
                                        <td>{{ profile.product_categories }}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    {% elif profile.seller_status == 'approved' %}
                        <div class="text-center py-5">
                            <i class="fas fa-check-circle text-success" style="font-size: 5rem;"></i>
                            <h3 class="text-success mt-3">Congratulations! You're Approved!</h3>
                            <p class="lead">Your seller application has been approved.</p>
                            <p class="text-muted">Approved on: {{ profile.seller_approval_date|date:"F d, Y at h:i A" }}</p>
                            
                            <div class="alert alert-success mt-4 text-left">
                                <h5><i class="fas fa-star"></i> What You Can Do Now:</h5>
                                <ul>
                                    <li>Start listing items for sale</li>
                                    <li>Access your seller analytics dashboard</li>
                                    <li>Manage your listings and track sales</li>
                                    <li>Receive payments directly to your bank account</li>
                                </ul>
                            </div>

                            <div class="mt-4">
                                <a href="{% url 'seller_dashboard' %}" class="btn btn-primary btn-lg px-5 mr-2">
                                    <i class="fas fa-chart-line"></i> Go to Seller Dashboard
                                </a>
                                <a href="{% url 'sell_item' %}" class="btn btn-success btn-lg px-5">
                                    <i class="fas fa-plus"></i> List Your First Item
                                </a>
                            </div>
                        </div>
                    {% elif profile.seller_status == 'rejected' %}
                        <div class="text-center py-5">
                            <i class="fas fa-times-circle text-danger" style="font-size: 5rem;"></i>
                            <h3 class="text-danger mt-3">Application Not Approved</h3>
                            <p class="lead">Unfortunately, your seller application was not approved.</p>
                            
                            <div class="alert alert-danger mt-4 text-left">
                                <h5><i class="fas fa-exclamation-triangle"></i> Reason for Rejection:</h5>
                                <p>{{ profile.rejection_reason|default:"No specific reason provided." }}</p>
                            </div>

                            <div class="alert alert-info text-left">
                                <h5><i class="fas fa-redo"></i> What You Can Do:</h5>
                                <ul class="mb-0">
                                    <li>Review the rejection reason above</li>
                                    <li>Address the issues mentioned</li>
                                    <li>Submit a new application with corrected information</li>
                                    <li>Contact our support team if you have questions</li>
                                </ul>
                            </div>

                            <div class="mt-4">
                                <a href="{% url 'seller_application' %}" class="btn btn-warning btn-lg px-5">
                                    <i class="fas fa-redo"></i> Apply Again
                                </a>
                                <a href="{% url 'home' %}" class="btn btn-secondary btn-lg px-5 ml-2">
                                    <i class="fas fa-home"></i> Return Home
                                </a>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
